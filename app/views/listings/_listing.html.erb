<div id="<%= dom_id listing %>" class="w-full border border-[#E0E0E0] rounded-md p-5 lg:grid lg:grid-cols-3 flex flex-col gap-5">
  <% if listing.pictures != nil && listing.pictures.first %>
    <p>
      <%= image_tag listing.pictures.first[1], class: "rounded-md" %>
    </p>
    <% else %>
    <p>
      <%= image_tag "missing_images.png", class: "rounded-md" %>
    </p>
  <% end %>

  <div class="col-span-2 flex flex-col gap-2 w-full relative">
    <h3 class="text-xl font-medium"><%= listing.name %> - <%= listing.beds %></h3>
    <div class="lg:absolute z-10 right-0 rounded-md px-2 py-1 text-xs text-white <%= listing.platform == 'ABNB' ? 'bg-[#ff385c]' : 'bg-[#0e214b]' %>">
      <span class="font-medium"><%= listing.platform %></span>
    </div>
    <div class="flex items-center">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
        <g clip-path="url(#clip0_303_421)">
          <path
            d="M10.0002 14.1666L5.10186 17.1583L6.43353 11.5749L2.0752 7.84159L7.79603 7.38325L10.0002 2.08325L12.2044 7.38325L17.926 7.84159L13.5669 11.5749L14.8985 17.1583L10.0002 14.1666Z"
            fill="#F2994A" />
        </g>
        <defs>
          <clipPath id="clip0_303_421">
            <rect width="20" height="20" fill="white" />
          </clipPath>
        </defs>
      </svg>
      <p class="ml-2 text-[#4F4F4F] text-sm"><%= listing.review %> (<%= listing.total_reviews %> Reviews)</p>
    </div>
    <div class="flex items-center justify-between mb-2">
      <div class="flex flex-col w-full">
        <p class="text-sm font-medium">Price per night: $<%= listing.price_per_night %></p>
        <p class="text-sm font-medium">Host Fee: $<%= listing.host_fee %></p>
        <p class="text-sm font-medium">Platform Fee: $<%= listing.platform_fee %></p>
        <p class="text-sm font-medium">Total Price: $<%= listing.total_price %></p>
      </div>
    </div>

  <a target="_blank" rel="nofollow" href="<%= listing.url %>" class="px-4 py-2 rounded-md text-white bg-[#2F80ED]"> Check Availability</a>

  </div>

</div>
